<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vortex - StormChaser</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="canvas-container" id="canvasContainer">
            <canvas id="fieldCanvas"></canvas>
        </div>

        <div class="sidebar">
            <div class="header">
                <h2>Vortex   StormChaser</h2>
            </div>
            
            <div class="controls-section">
                
                <div id="cropSliders" class="hidden">
                    <div class="slider-group">
                        <label>Left: <span id="valLeft">0</span></label>
                        <input type="range" id="sliderLeft" min="0" max="100" value="0">
                    </div>
                    
                    <div class="slider-group">
                        <label>Right: <span id="valRight">100</span></label>
                        <input type="range" id="sliderRight" min="0" max="100" value="100">
                    </div>
                    
                    <div class="slider-group">
                        <label>Top: <span id="valTop">0</span></label>
                        <input type="range" id="sliderTop" min="0" max="100" value="0">
                    </div>
                    
                    <div class="slider-group">
                        <label>Bottom: <span id="valBottom">100</span></label>
                        <input type="range" id="sliderBottom" min="0" max="100" value="100">
                    </div>
                </div>
            </div>

            <div class="controls-section">
                
                <div class="path-controls">
                    <div id="currentPathDisplay" style="color: #ddd; margin-bottom: 10px; font-weight: bold;">Current Path: Untitled</div>
                    <div style="display: flex; gap: 10px;">
                        <button id="btnSavePath" class="btn" style="flex: 1; background-color: #1976d2;">Save</button>
                        <button id="btnOpenPath" class="btn" style="flex: 1; background-color: #424242;">Open</button>
                    </div>
                </div>

                <div id="robotSettings" class="hidden">
                    <div class="input-group">
                        <label>Width (in):</label>
                        <input type="number" id="robotWidth" step="0.1" value="28">
                    </div>
                    <div class="input-group">
                        <label>Height (in):</label>
                        <input type="number" id="robotHeight" step="0.1" value="28">
                    </div>
                    <div class="input-group">
                        <label>Bumper Width (in):</label>
                        <input type="number" id="robotBumper" step="0.1" value="3">
                    </div>
                    <div class="input-group">
                        <label>Max Speed (in/s):</label>
                        <input type="number" id="robotSpeed" step="10" value="120">
                    </div>
                </div>
                
                <button id="btnPlay" class="btn" style="margin-top: 10px; width: 100%; background-color: #2e7d32; color: white;">Play Animation</button>
            </div>

            <div class="controls-section points-section">
                <h3>Points</h3>
                
                <ul id="pointsList" class="points-list">
                </ul>
            </div>
        </div>
    </div>

    <div id="openPathModal" class="modal hidden">
        <div class="modal-content" style="width: 70%; max-width: 900px;">
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <button id="btnPathBack" class="btn hidden" style="padding: 5px 10px;">&larr;</button>
                    <h2 id="openPathTitle" style="margin: 0; font-size: 1.5em;">Open Path</h2>
                </div>
                <div style="margin-left: auto; display: flex; gap: 10px; margin-right: 20px;">
                    <button id="btnNewFolderFromModal" class="btn" style="background-color: #555; padding: 5px 15px;">New Folder</button>
                    <button id="btnNewPathFromModal" class="btn" style="background-color: #2e7d32; padding: 5px 15px;">New Path</button>
                </div>
                <span class="close-modal" id="closeOpenPathModal">&times;</span>
            </div>
            <div id="foldersSection">
                <h4 id="foldersTitle" style="margin: 10px 0 5px 0; color: #aaa; display: none;">Folders</h4>
                <ul id="folderList" class="path-grid"></ul>
            </div>
            
            <hr id="pathDivider" style="border: 0; border-top: 1px solid #444; margin: 20px 0; display: none;">
            
            <div id="filesSection">
                <h4 id="filesTitle" style="margin: 10px 0 5px 0; color: #aaa; display: none;">Paths</h4>
                <ul id="fileList" class="path-grid"></ul>
            </div>
        </div>
    </div>

    <div id="projectStartModal" class="modal">
        <div class="modal-content" style="width: 50%; height: 60%; align-items: stretch;">
            
            <div style="display: flex; justify-content: center; gap: 5px; margin: 5px 0;">
                <button id="btnNewProject" class="btn" style="padding: 10px 15px; font-size: 1.2em; background-color: #1976d2;">New Project</button>
                <button id="btnOpenExistingProject" class="btn" style="padding: 10px 15px; font-size: 1.2em; background-color: #424242;">Open Project</button>
            </div>
            
            <div style="text-align: left; margin-top: 10px; flex: 1; display: flex; flex-direction: column;">
                <h3 style="margin-bottom: 10px;">Recent Projects</h3>
                <ul id="recentProjectsList" class="file-list" style="flex: 1; overflow-y: auto; border: 1px solid #444; border-radius: 4px; padding: 5px;">
                </ul>
            </div>
        </div>
    </div>

    <div id="deleteConfirmModal" class="modal hidden">
        <div class="modal-content" style="width: 300px; height: auto; text-align: center;">
            <h3>Delete Path?</h3>
            <p style="margin: 20px 0;">Are you sure you want to delete this path? This action cannot be undone.</p>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button id="btnConfirmDelete" class="btn" style="background-color: #d32f2f;">Delete</button>
                <button id="btnCancelDelete" class="btn" style="background-color: #424242;">Cancel</button>
            </div>
        </div>
    </div>

    <div id="savePathModal" class="modal hidden">
        <div class="modal-content" style="width: 300px; height: auto; text-align: center;">
            <h3>Save Path As</h3>
            <div class="input-group" style="margin: 20px 0;">
                <input type="text" id="savePathInput" placeholder="Enter path name" style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button id="btnConfirmSave" class="btn" style="background-color: #1976d2;">Save</button>
                <button id="btnCancelSave" class="btn" style="background-color: #424242;">Cancel</button>
            </div>
        </div>
    </div>

    <div id="newFolderModal" class="modal hidden">
        <div class="modal-content" style="width: 300px; height: auto; text-align: center;">
            <h3>New Folder</h3>
            <div class="input-group" style="margin: 20px 0;">
                <input type="text" id="newFolderInput" placeholder="Enter folder name" style="width: 100%; padding: 8px; box-sizing: border-box;">
            </div>
            <div style="display: flex; justify-content: center; gap: 15px;">
                <button id="btnConfirmNewFolder" class="btn" style="background-color: #1976d2;">Create</button>
                <button id="btnCancelNewFolder" class="btn" style="background-color: #424242;">Cancel</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
